<div 
  x-data="{ expanded: false }"
  class="bg-white shadow-2xl rounded-sm w-full md:max-w-xs p-4 md:mx-0"
>
  <nav class="space-y-0.5">
    <div class="text-[17px] font-semibold mb-4 text-left">For Readers</div>
    <!-- DESKTOP: har doim barcha navlar -->
    <div class="hidden md:block">
      <a href="{% url 'how_to_access_articles' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'how_to_access_articles' %}font-bold{% else %}font-normal{% endif %}">
        How to access articles
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'library_recommendation_form' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'library_recommendation_form' %}font-bold{% else %}font-normal{% endif %}">
        Library recommendation form
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'journal_subscriptions' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'journal_subscriptions' %}font-bold{% else %}font-normal{% endif %}">
        Journal subscriptions
      </a>
      <a href="#" class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition">Browse open access articles</a>
      <a href="{% url 'activate_access_token' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'activate_access_token' %}font-bold{% else %}font-normal{% endif %}">
        Activate an access token
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'permissions_for_our_content' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'permissions_for_our_content' %}font-bold{% else %}font-normal{% endif %}">
        Permissions for our content in other publications
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'cite_an_article' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'cite_an_article' %}font-bold{% else %}font-normal{% endif %}">
        Cite an article
      </a>
      <hr class="my-0.5 border-gray-200" />
    </div>
    <!-- MOBILE: 3 ta nav + Expand All -->
    <div class="md:hidden" x-show="!expanded">
      <a href="{% url 'how_to_access_articles' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'how_to_access_articles' %}font-bold{% else %}font-normal{% endif %}">
        How to access articles
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'library_recommendation_form' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'library_recommendation_form' %}font-bold{% else %}font-normal{% endif %}">
        Library recommendation form
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'journal_subscriptions' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'journal_subscriptions' %}font-bold{% else %}font-normal{% endif %}">
        Journal subscriptions
      </a>
      <div class="mt-2">
        <button
          @click="expanded = true"
          class="w-full flex flex-col items-center text-[#c51152] font-semibold focus:outline-none"
        >
          Expand All
          <svg class="w-6 h-6 mt-1" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>
      </div>
    </div>
    <!-- MOBILE: barcha navlar + Collapse -->
    <div class="md:hidden" x-show="expanded">
      <a href="{% url 'how_to_access_articles' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'how_to_access_articles' %}font-bold{% else %}font-normal{% endif %}">
        How to access articles
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'library_recommendation_form' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'library_recommendation_form' %}font-bold{% else %}font-normal{% endif %}">
        Library recommendation form
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'journal_subscriptions' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'journal_subscriptions' %}font-bold{% else %}font-normal{% endif %}">
        Journal subscriptions
      </a>
      <a href="#" class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition">Browse open access articles</a>
      <a href="{% url 'activate_access_token' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'activate_access_token' %}font-bold{% else %}font-normal{% endif %}">
        Activate an access token
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'permissions_for_our_content' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'permissions_for_our_content' %}font-bold{% else %}font-normal{% endif %}">
        Permissions for our content in other publications
      </a>
      <hr class="my-0.5 border-gray-200" />
      <a href="{% url 'cite_an_article' %}" 
         class="block px-1 py-3 text-[16px] text-left text-black hover:text-gray-500 transition {% if request.resolver_match.url_name == 'cite_an_article' %}font-bold{% else %}font-normal{% endif %}">
        Cite an article
      </a>
      <hr class="my-0.5 border-gray-200" />
      <div class="mt-2">
        <button
          @click="expanded = false"
          class="w-full flex flex-col items-center text-[#c51152] font-semibold focus:outline-none"
        >
          <svg class="w-6 h-6 mb-1" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
          </svg>
          Collapse
        </button>
      </div>
    </div>
  </nav>
</div>